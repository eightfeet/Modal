<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Modal</title>
    <style>
        .wrap {
            text-align:center; padding-top: 20px
        }

        select {
            border: 1px solid #eee; padding: 5px; text-align: center
        }

        #example {
            line-height: 40px; background-color: rgb(20, 159, 64); width:230px; margin: 10px auto; color: #fff; border-radius: 0.2em;
        }

        #example2 {
            line-height: 40px; background-color: rgb(159, 20, 115); width:230px; margin: 20px auto 0 auto; color: #fff; border-radius: 0.2em
        }

        #indom {
            position:relative; width:320px; height:500px; font-size: 11px; margin: 0 auto
        }
    </style>
</head>
<body>
    <div class="wrap">
        chose animation<select id="effect">
            <option value="fadeInUp">fadeInUp</option>
            <option value="fadeInDown">fadeInDown</option>
            <option value="fadeInLeft">fadeInLeft</option>
            <option value="fadeInRight">fadeInRight</option>
            <option value="zoomIn">zoomIn</option>
            <option value="zoomInUp">zoomInUp</option>
            <option value="zoomInDown">zoomInDown</option>
            <option value="zoomInLeft">zoomInLeft</option>
            <option value="zoomInRight">zoomInRight</option>
        </select>
        <div id="example2">click me show normal</div>
        <br />
        <div id="example">click me show modal in box</div>
        <br />
        <div id="indom"></div>
    </div>
    <div style="height: 2000px"></div>
</body>
<script>
    var effect = 'zoomIn';
    var btn = document.getElementById('example');
    var btn2 = document.getElementById('example2');
    var btnshow = document.getElementById('exampleshow');
    var effectDom = document.getElementById('effect');

    effectDom.onchange = function(e) {
        console.log(effect = e.target.value);
    }
    
    var newModal = new ___Modal___({
        // id: '1111', // 模板节点id 不传可自动生成id
        // zIndex: 100, // modal的层级关系，默认100
        emBase: 12, // 基准像素 parent Dom’s fontsize
        parentId: 'indom',
        closable: false, // 可关闭 默认true
        shouldCloseOnOverlayClick: true, // 点击背景层关闭弹窗 默认false
        style: { // 定义modal样式 {overlay: 覆盖层, content: 内容区, close: 关闭按钮}
            overlay: {
                backgroundColor: 'rgba(0,0,0,0.5)'
            },
            content: {
                backgroundColor: 'rgba(100, 100, 100, 0.2)',
                minWidth: '20em',
                // padding: '120px',
                // 设置内容的层级关系
                zIndex: 107
            },
            close: {
                backgroundColor: 'rgba(0, 0, 0, 1)',
                width: '1em',
                height: '1em',
                top: '-3em',
                left: '50%'
            },
            // modify层级按照zIndex（modal的层级）以2为步值递增
            modify: [
                {
                    backgroundColor: 'rgba(0, 0, 255, 0.4)',
                    width: '120%',
                    left: '-10%',
                    height: '200px',
                    border: '1px solid rgba(0, 0, 255, 0.6)',
                    top: '-5em'
                },
                {
                    backgroundColor: 'rgba(0, 0, 255, 0.4)',
                    width: '130%',
                    left: '-15%',
                    height: '200px',
                    border: '1px solid rgba(0, 0, 255, 0.6)',
                    top: '-4em'
                },
                {
                    backgroundColor: 'rgba(0, 0, 255, 0.4)',
                    width: '140%',
                    left: '-20%',
                    height: '200px',
                    border: '1px solid rgba(0, 0, 255, 0.6)',
                    top: '-3em'
                },
                {
                    backgroundColor: 'rgba(0, 0, 255, 0.4)',
                    width: '150%',
                    left: '-25%',
                    height: '200px',
                    border: '1px solid rgba(0, 0, 255, 0.6)',
                    top: '-2em'
                }
            ]
        }
    });

    function create1(){ 
        return newModal.create({
            header:'<div style="position:relative; z-index: 90;background-color: red;">1</div>',
        }).then(function(){
            document.getElementById('close').onclick = function(){
                return newModal.hide(true);
            };
        });
    }

    var newModal1 = new ___Modal___({
            // id: '2222222', // 模板节点id 不传可自动生成id
            // zIndex: 100, // modal的层级关系，默认100
            animation: {
                form: effect,
                duration: '0.3s'
            }, // 启用动画 默认true
            // closable: false, // 可关闭 默认true
            shouldCloseOnOverlayClick: true, // 点击背景层关闭弹窗 默认false
            style: { // 定义modal样式 {overlay: 覆盖层, content: 内容区, close: 关闭按钮}
                overlay: {
                    backgroundColor: 'rgba(0,0,0,0.5)'
                },
                content: {
                    backgroundColor: 'rgba(100, 100, 100, 0.2)',
                    width: '18em',
                    // padding: '120px',
                    // 设置内容的层级关系
                    zIndex: 107
                },
                close: {
                    backgroundColor: 'rgba(0, 0, 0, 1)',
                    width: '1em',
                    height: '1em',
                    top: '-3em',
                    right: '0'
                }
            }
        });

    function create2(){ 
        newModal1.state.animation.form = effect;
        return newModal1.create({
            header:'<div style="position:relative; z-index: 90;background-color: green;">2</div>',
            main: '<div id="close">Click on me to close.</div>'
        }).then(function(err){
            console.log(err);
        });
    }

    btn.onclick = function(){
        create1();
    }

    btn2.onclick = function(){
        create2();
    }
</script>
</html>